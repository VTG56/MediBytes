# ========================================
# MEDIBYTES BLOCKCHAIN ENVIRONMENT VARIABLES
# ========================================

# -------------------- Network Configuration --------------------
# Network to deploy: amoy (testnet), polygon (mainnet), localhost
NETWORK=amoy

# -------------------- Wallet Configuration --------------------
# Deployer wallet private key (without 0x prefix)
# ⚠️ CRITICAL: NEVER commit this to Git! Keep it absolutely secret!
# ⚠️ Use a separate wallet for development/testing only
# Generate new wallet: https://vanity-eth.tk/
PRIVATE_KEY=1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef

# -------------------- Polygon Amoy Testnet --------------------
# Polygon Amoy RPC URL (Mumbai is deprecated)
AMOY_RPC_URL=https://rpc-amoy.polygon.technology
# Alternative Alchemy RPC (faster, more reliable):
# AMOY_RPC_URL=https://polygon-amoy.g.alchemy.com/v2/your-alchemy-api-key
# Alternative Infura RPC:
# AMOY_RPC_URL=https://polygon-amoy.infura.io/v3/your-infura-api-key

AMOY_CHAIN_ID=80002

# -------------------- Polygon Mainnet (Production) --------------------
POLYGON_RPC_URL=https://polygon-rpc.com
POLYGON_CHAIN_ID=137

# -------------------- Block Explorer Configuration --------------------
# Polygonscan API key for contract verification
# Get from: https://amoy.polygonscan.com/myapikey (for testnet)
# Or: https://polygonscan.com/myapikey (for mainnet)
POLYGONSCAN_API_KEY=ABC123DEF456GHI789JKL012MNO345PQR678

# -------------------- Local Development --------------------
LOCALHOST_RPC_URL=http://127.0.0.1:8545
LOCALHOST_CHAIN_ID=31337

# -------------------- Gas Configuration --------------------
# Gas price in Gwei (optional - auto-calculated if not set)
# Polygon Amoy typical: 30-50 Gwei
GAS_PRICE=35

# Gas limit for deployment transactions
GAS_LIMIT=8000000

# -------------------- Deployed Contract Addresses --------------------
# Update these after deployment
MEDICAL_RECORD_CONTRACT=0x745d52A59140ec1A6dEeeE38687256f8e3533845
ORGAN_DONOR_CONTRACT=0x0000000000000000000000000000000000000000
ACCESS_CONTROL_CONTRACT=0x0000000000000000000000000000000000000000
EHR_STORAGE_CONTRACT=0x0000000000000000000000000000000000000000

# -------------------- Test Wallet Addresses --------------------
# Doctor wallet (for testing approval workflow)
DOCTOR_WALLET=0xEB1Dd2bc587B1C0801be9b14987AAf93897f4c30
DOCTOR_LICENSE=MCI-MH-99999-2025

# Patient wallet (for testing record creation)
PATIENT_WALLET=0xBeDdBdED049f68D005723d4077314Afe0d5D326f

# -------------------- Hardhat Configuration --------------------
# Report gas usage in tests
REPORT_GAS=true

# Compiler optimization runs (higher = cheaper execution, longer compilation)
OPTIMIZER_RUNS=200

# Network forking (optional - for mainnet testing on local)
# FORK_ENABLED=false
# FORK_BLOCK_NUMBER=50000000

# ========================================
# SETUP INSTRUCTIONS:
# ========================================
# 1. Copy this file: cp .env.example .env
# 2. Fill in PRIVATE_KEY (use test wallet)
# 3. Get test MATIC from faucet:
#    https://faucet.polygon.technology/
# 4. Get Polygonscan API key for verification
# 5. Install dependencies: npm install
# 6. Compile contracts: npx hardhat compile
# 7. Deploy: npx hardhat run scripts/deploy-medical-system.js --network amoy
# 8. Verify: npx hardhat verify --network amoy <CONTRACT_ADDRESS>
# ========================================

# ========================================
# USEFUL COMMANDS:
# ========================================
# Compile contracts:
#   npx hardhat compile
#
# Run tests:
#   npx hardhat test
#
# Test coverage:
#   npx hardhat coverage
#
# Deploy to Amoy testnet:
#   npx hardhat run scripts/deploy-medical-system.js --network amoy
#
# Register test users:
#   npx hardhat run scripts/register-test-users.js --network amoy
#
# Check doctor registration:
#   npx hardhat run scripts/check-and-fix-doctor.js --network amoy
#
# Verify contract:
#   npx hardhat verify --network amoy <ADDRESS> [constructor args]
#
# Start local node:
#   npx hardhat node
# ========================================

# ========================================
# SECURITY BEST PRACTICES:
# ========================================
# ✅ Use separate wallets for dev/test/prod
# ✅ Never commit .env to Git (.gitignore includes it)
# ✅ Use hardware wallet (Ledger/Trezor) for mainnet
# ✅ Keep private keys in password manager
# ✅ Rotate keys immediately if compromised
# ✅ Use multi-sig for production deployments
# ✅ Always test on testnet first
# ========================================
