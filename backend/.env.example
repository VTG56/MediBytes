# ========================================
# MEDIBYTES BACKEND ENVIRONMENT VARIABLES
# ========================================

# -------------------- Server Configuration --------------------
HOST=0.0.0.0
PORT=8000
ENVIRONMENT=development

# -------------------- Database Configuration (Supabase) --------------------
# Get these from: https://app.supabase.com/project/_/settings/api
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your_anon_key_here...
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your_service_role_key_here...

# -------------------- JWT Configuration --------------------
# Generate a secure random string (min 32 characters)
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_min_32_chars
JWT_ALGORITHM=HS256
JWT_EXPIRY_HOURS=24

# -------------------- Blockchain Configuration --------------------
# Polygon Amoy Testnet RPC
POLYGON_AMOY_RPC=https://rpc-amoy.polygon.technology
# Alternative RPC (Alchemy):
# POLYGON_AMOY_RPC=https://polygon-amoy.g.alchemy.com/v2/your-api-key

CHAIN_ID=80002

# Smart Contract Addresses (deployed on Polygon Amoy)
MEDICAL_SYSTEM_CONTRACT=0x745d52A59140ec1A6dEeeE38687256f8e3533845
EHR_STORAGE_CONTRACT=0x0000000000000000000000000000000000000000
ACCESS_CONTROL_CONTRACT=0x0000000000000000000000000000000000000000
ORGAN_REGISTRY_CONTRACT=0x0000000000000000000000000000000000000000

# -------------------- Admin Wallet Configuration --------------------
# Admin wallet for backend-initiated blockchain transactions
# ⚠️ NEVER commit this to Git! Keep it secret!
ADMIN_PRIVATE_KEY=0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef
ADMIN_ADDRESS=0xEB1Dd2bc587B1C0801be9b14987AAf93897f4c30

# Patient blockchain address (hardcoded for all patients in demo)
PATIENT_BLOCKCHAIN_ADDRESS=0xBeDdBdED049f68D005723d4077314Afe0d5D326f

# -------------------- IPFS Configuration (Pinata) --------------------
# Get JWT from: https://app.pinata.cloud/keys
PINATA_API_KEY=your_pinata_api_key_here
PINATA_SECRET_KEY=your_pinata_secret_api_key_here
PINATA_JWT=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your_pinata_jwt_here...
PINATA_GATEWAY=https://gateway.pinata.cloud

# -------------------- AI/ML Service Configuration --------------------
# ML Service URL (if running separate ML service)
MODEL_API_URL=http://localhost:5000/api/analysis/simple
MODEL_API_KEY=your_model_api_key_if_required

# OpenAI API Key (for GPT-4 analysis)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your_openai_api_key_here...

# Anthropic Claude API Key (optional)
ANTHROPIC_API_KEY=sk-ant-your_anthropic_api_key_here...

# -------------------- Encryption --------------------
# Master encryption key for sensitive data (32 bytes)
# Generate with: openssl rand -hex 32
MASTER_ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# -------------------- CORS Configuration --------------------
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:3000

# -------------------- File Upload Configuration --------------------
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,tiff,dicom

# -------------------- Logging Configuration --------------------
LOG_LEVEL=INFO
LOG_FILE=./logs/backend.log

# -------------------- Security Configuration --------------------
# Rate limiting (requests per minute)
RATE_LIMIT=100

# Session timeout (minutes)
SESSION_TIMEOUT=30

# ========================================
# SETUP INSTRUCTIONS:
# ========================================
# 1. Copy this file: cp .env.example .env
# 2. Fill in all placeholder values above
# 3. Get Supabase credentials from dashboard
# 4. Get Pinata JWT for IPFS storage
# 5. Get OpenAI API key for AI analysis
# 6. Generate secure JWT_SECRET
# 7. NEVER commit .env to Git!
# ========================================

# ========================================
# RUN BACKEND:
# ========================================
# Development:
#   uvicorn main:app --reload --host 0.0.0.0 --port 8000
#
# Production:
#   uvicorn main:app --host 0.0.0.0 --port 8000 --workers 4
# ========================================
